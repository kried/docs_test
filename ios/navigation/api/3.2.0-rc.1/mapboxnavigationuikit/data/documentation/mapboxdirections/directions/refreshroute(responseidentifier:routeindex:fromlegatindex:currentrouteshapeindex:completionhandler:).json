{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/mapboxdirections\/directions\/refreshroute(responseidentifier:routeindex:fromlegatindex:currentrouteshapeindex:completionhandler:)"]}],"abstract":[{"text":"Begins asynchronously refreshing the route with the given identifier, optionally starting from an arbitrary leg and point along the route.","type":"text"}],"primaryContentSections":[{"declarations":[{"platforms":["iOS"],"languages":["swift"],"tokens":[{"text":"@discardableResult","kind":"attribute"},{"kind":"text","text":" "},{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"refreshRoute"},{"kind":"text","text":"("},{"text":"responseIdentifier","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"text":", ","kind":"text"},{"text":"routeIndex","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"text":", ","kind":"text"},{"text":"fromLegAtIndex","kind":"externalParam"},{"text":" ","kind":"text"},{"kind":"internalParam","text":"startLegIndex"},{"kind":"text","text":": "},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"kind":"text","text":" = 0, "},{"kind":"externalParam","text":"currentRouteShapeIndex"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"completionHandler","kind":"externalParam"},{"kind":"text","text":": "},{"text":"@escaping","kind":"attribute"},{"text":" ","kind":"text"},{"kind":"typeIdentifier","text":"RouteRefreshCompletionHandler","preciseIdentifier":"s:16MapboxDirections0B0C29RouteRefreshCompletionHandlera","identifier":"doc:\/\/com.mapbox.navigation\/documentation\/MapboxDirections\/Directions\/RouteRefreshCompletionHandler"},{"text":") -> ","kind":"text"},{"text":"URLSessionDataTask","kind":"typeIdentifier","preciseIdentifier":"c:objc(cs)NSURLSessionDataTask"},{"kind":"text","text":"?"}]}],"kind":"declarations"},{"kind":"parameters","parameters":[{"name":"responseIdentifier","content":[{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"RouteResponse.identifier"},{"text":" value of the ","type":"text"},{"code":"RouteResponse","type":"codeVoice"},{"type":"text","text":" that contains the route to refresh."}]}]},{"name":"routeIndex","content":[{"inlineContent":[{"text":"The index of the route to refresh in the original ","type":"text"},{"code":"RouteResponse.routes","type":"codeVoice"},{"text":" array.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"The index of the leg in the route at which to begin refreshing. The response will omit any leg before this index and refresh any leg from this index to the end of the route. If this argument is omitted, the entire route is refreshed.","type":"text"}]}],"name":"startLegIndex"},{"name":"currentRouteShapeIndex","content":[{"type":"paragraph","inlineContent":[{"text":"The index of the route geometry at which to begin refreshing. Indexed geometry must be contained by the leg at ","type":"text"},{"type":"codeVoice","code":"startLegIndex"},{"text":".","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The closure (block) to call with the resulting skeleton route data. This closure is executed on the applicationâ€™s main thread."}]}],"name":"completionHandler"}]},{"content":[{"level":2,"text":"Return Value","type":"heading","anchor":"return-value"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The data task used to perform the HTTP request. If, while waiting for the completion handler to execute, you no longer want the resulting skeleton routes, cancel this task."}]}],"kind":"content"},{"kind":"content","content":[{"anchor":"discussion","text":"Discussion","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"This method retrieves skeleton route data asynchronously from the Mapbox Directions Refresh API over a network connection. If a connection error or server error occurs, details about the error are passed into the given completion handler in lieu of the routes.","type":"text"}]},{"name":"Precondition","type":"aside","content":[{"type":"paragraph","inlineContent":[{"text":"Set ","type":"text"},{"type":"codeVoice","code":"RouteOptions.refreshingEnabled"},{"text":" to ","type":"text"},{"type":"codeVoice","code":"true"},{"type":"text","text":" when calculating the original route."}]}],"style":"note"}]}],"sections":[],"hierarchy":{"paths":[["doc:\/\/com.mapbox.navigation\/documentation\/MapboxDirections","doc:\/\/com.mapbox.navigation\/documentation\/MapboxDirections\/Directions"]]},"metadata":{"fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"refreshRoute"},{"kind":"text","text":"("},{"kind":"externalParam","text":"responseIdentifier"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"kind":"text","text":", "},{"text":"routeIndex","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:Si","text":"Int"},{"kind":"text","text":", "},{"text":"fromLegAtIndex","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Si","kind":"typeIdentifier","text":"Int"},{"kind":"text","text":", "},{"kind":"externalParam","text":"currentRouteShapeIndex"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"text":"completionHandler","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"RouteRefreshCompletionHandler","preciseIdentifier":"s:16MapboxDirections0B0C29RouteRefreshCompletionHandlera"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"c:objc(cs)NSURLSessionDataTask","text":"URLSessionDataTask","kind":"typeIdentifier"},{"text":"?","kind":"text"}],"roleHeading":"Instance Method","symbolKind":"method","title":"refreshRoute(responseIdentifier:routeIndex:fromLegAtIndex:currentRouteShapeIndex:completionHandler:)","role":"symbol","modules":[{"name":"MapboxDirections"}],"externalID":"s:16MapboxDirections0B0C12refreshRoute18responseIdentifier10routeIndex09fromLegAtH007currentd5ShapeH017completionHandlerSo20NSURLSessionDataTaskCSgSS_S3iyAA11CredentialsV_s6ResultOyAA0D15RefreshResponseVAA0B5ErrorOGtYbctF"},"kind":"symbol","identifier":{"url":"doc:\/\/com.mapbox.navigation\/documentation\/MapboxDirections\/Directions\/refreshRoute(responseIdentifier:routeIndex:fromLegAtIndex:currentRouteShapeIndex:completionHandler:)","interfaceLanguage":"swift"},"schemaVersion":{"minor":3,"major":0,"patch":0},"references":{"doc://com.mapbox.navigation/documentation/MapboxDirections":{"abstract":[{"text":"Provides basic models for ","type":"text"},{"type":"reference","identifier":"https:\/\/docs.mapbox.com\/api\/navigation\/directions\/","isActive":true},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.mapbox.com\/api\/navigation\/map-matching\/"},{"text":", and ","type":"text"},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.mapbox.com\/api\/navigation\/matrix\/"},{"type":"text","text":"."}],"title":"MapboxDirections","url":"\/documentation\/mapboxdirections","kind":"symbol","role":"collection","type":"topic","identifier":"doc:\/\/com.mapbox.navigation\/documentation\/MapboxDirections"},"doc://com.mapbox.navigation/documentation/MapboxDirections/Directions/RouteRefreshCompletionHandler":{"url":"\/documentation\/mapboxdirections\/directions\/routerefreshcompletionhandler","type":"topic","kind":"symbol","title":"Directions.RouteRefreshCompletionHandler","role":"symbol","identifier":"doc:\/\/com.mapbox.navigation\/documentation\/MapboxDirections\/Directions\/RouteRefreshCompletionHandler","abstract":[{"type":"text","text":"A closure (block) to be called when a directions refresh request is complete."}],"fragments":[{"kind":"keyword","text":"typealias"},{"text":" ","kind":"text"},{"text":"RouteRefreshCompletionHandler","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"RouteRefreshCompletionHandler"}]},"https://docs.mapbox.com/api/navigation/#directions":{"title":"Mapbox Directions API","url":"https:\/\/docs.mapbox.com\/api\/navigation\/#directions","identifier":"https:\/\/docs.mapbox.com\/api\/navigation\/#directions","titleInlineContent":[{"type":"text","text":"Mapbox Directions API"}],"type":"link"},"https://docs.mapbox.com/api/navigation/directions/":{"type":"link","identifier":"https:\/\/docs.mapbox.com\/api\/navigation\/directions\/","title":"Mapbox Directions API","titleInlineContent":[{"type":"text","text":"Mapbox Directions API"}],"url":"https:\/\/docs.mapbox.com\/api\/navigation\/directions\/"},"https://docs.mapbox.com/api/navigation/map-matching/":{"title":"Mapbox Map Matching API","url":"https:\/\/docs.mapbox.com\/api\/navigation\/map-matching\/","identifier":"https:\/\/docs.mapbox.com\/api\/navigation\/map-matching\/","titleInlineContent":[{"type":"text","text":"Mapbox Map Matching API"}],"type":"link"},"https://docs.mapbox.com/api/navigation/matrix/":{"type":"link","identifier":"https:\/\/docs.mapbox.com\/api\/navigation\/matrix\/","title":"Mapbox Matrix API","titleInlineContent":[{"type":"text","text":"Mapbox Matrix API"}],"url":"https:\/\/docs.mapbox.com\/api\/navigation\/matrix\/"},"doc://com.mapbox.navigation/documentation/MapboxDirections/Directions":{"fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"text":"Directions","kind":"identifier"}],"identifier":"doc:\/\/com.mapbox.navigation\/documentation\/MapboxDirections\/Directions","type":"topic","title":"Directions","navigatorTitle":[{"text":"Directions","kind":"identifier"}],"kind":"symbol","url":"\/documentation\/mapboxdirections\/directions","abstract":[{"type":"text","text":"A "},{"type":"codeVoice","code":"Directions"},{"type":"text","text":" object provides you with optimal directions between different locations, or waypoints. The directions object passes your request to the "},{"identifier":"https:\/\/docs.mapbox.com\/api\/navigation\/#directions","type":"reference","isActive":true},{"type":"text","text":" and returns the requested information to a closure (block) that you provide. A directions object can handle multiple simultaneous requests. A "},{"type":"codeVoice","code":"RouteOptions"},{"type":"text","text":" object specifies criteria for the results, such as intermediate waypoints, a mode of transportation, or the level of detail to be returned."}],"role":"symbol"},"doc://com.mapbox.navigation/documentation/MapboxDirections/Directions/refreshRoute(responseIdentifier:routeIndex:fromLegAtIndex:currentRouteShapeIndex:completionHandler:)":{"url":"\/documentation\/mapboxdirections\/directions\/refreshroute(responseidentifier:routeindex:fromlegatindex:currentrouteshapeindex:completionhandler:)","role":"symbol","kind":"symbol","identifier":"doc:\/\/com.mapbox.navigation\/documentation\/MapboxDirections\/Directions\/refreshRoute(responseIdentifier:routeIndex:fromLegAtIndex:currentRouteShapeIndex:completionHandler:)","type":"topic","abstract":[{"type":"text","text":"Begins asynchronously refreshing the route with the given identifier, optionally starting from an arbitrary leg and point along the route."}],"title":"refreshRoute(responseIdentifier:routeIndex:fromLegAtIndex:currentRouteShapeIndex:completionHandler:)","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"refreshRoute"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"responseIdentifier"},{"text":": ","kind":"text"},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"routeIndex"},{"kind":"text","text":": "},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":", ","kind":"text"},{"text":"fromLegAtIndex","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":", ","kind":"text"},{"text":"currentRouteShapeIndex","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Int","preciseIdentifier":"s:Si","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"completionHandler","kind":"externalParam"},{"kind":"text","text":": "},{"text":"RouteRefreshCompletionHandler","kind":"typeIdentifier","preciseIdentifier":"s:16MapboxDirections0B0C29RouteRefreshCompletionHandlera"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"c:objc(cs)NSURLSessionDataTask","kind":"typeIdentifier","text":"URLSessionDataTask"},{"kind":"text","text":"?"}]}}}